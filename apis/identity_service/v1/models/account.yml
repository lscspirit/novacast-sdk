AccountRequest:
  type: object
  description: |
    A request object for creating/changing `Account`
  properties:
    domain_name:
      description: domain name
      type: string
    provider_name:
      description: OAuth provider name
      type: string
    identifier:
      description: account identifier (username or email)
      type: string
    password:
      description: account password
      type: string
    access_token:
      description: access token provided by a third party OAuth provider
      type: string
  required: ['domain_name', 'provider_name']

Account:
  type: object
  description: |
    Account object
  properties:
    uid:
      type: string
      description: account unique id (uid)
    identifier:
      type: string
      description: account identifier (username or email)
    domain_id:
      type: integer
      description: domain id
    provider_id:
      type: integer
      description: authentication provider id
  required: ['uid', 'identifier', 'domain_id', 'provider_id']

AccountRoles:
  type: object
  description: account information with roles
  allOf:
    - $ref: '#/definitions/Account'
    - type: object
      properties:
        roles:
          type: array
          description: list of role on resource
          items:
            $ref: '#/definitions/RoleResource'
      required: ['roles']

AccountRoleList:
  type: object
  description: list of accounts with roles
  properties:
    accounts:
      type: array
      description: account and role entries
      items:
        $ref: '#/definitions/AccountRoles'
  required: ['accounts']

LoginResponse:
  type: object
  description: |
    Response to a login request
  properties:
    user:
      $ref: '#/definitions/Account'
    token:
      description: access token
      type: string
  required: ['user', 'token']

LogoutResponse:
  type: object
  description: |
    Response to a logout request
  properties:
    token:
      description: access token
      type: string
    revoked_at:
      description: revocation time
      type: string
      format: date-time

ModuleRuntime:
  type: object
  description: Runtime configuration for a module
  properties:
    module_name:
      type: string
      description: name of the module
    runtime:
      type: object
      description: module runtime configuration
  required: ['module_name', 'runtime']

RuntimeInfo:
  type: object
  description: additional information about the current session
  properties:
    session_label:
      type: string
      description: label of the event session
    event_name:
      type: string
      description: name of the event
  required: ['session_label', 'event_name']

PageRuntime:
  type: object
  description: runtime configuration for use by client
  properties:
    session_uid:
      type: string
      description: uid of the current session
    modules:
      type: array
      description: runtime config for individual module
      items:
        $ref: '#/definitions/ModuleRuntime'
    info:
      $ref: '#/definitions/RuntimeInfo'

EventContent:
  type: object
  description: Event content with meta information
  properties:
    type:
      type: string
      description: content type
      enum: ['html', 'url', 'content_path']
    value:
      type: string
      description: content value
    public:
      type: boolean
      description: content is public
    session_uid:
      type: string
      description: uid of the session (only available for 'html' type)
  required: ['type', 'value']

ClientRequestInfo:
  type: object
  description: information of the HTTP request from client
  properties:
    method:
      type: string
      description: request method
    protocol:
      type: string
      description: request protocol
    remote_ip:
      type: string
      description: client IP
    referrer:
      type: string
      description: request referrer
  required: ['method', 'protocol', 'remote_ip']

FilterAccessRequest:
  type: object
  description: event access filtering request
  properties:
    client_request:
      $ref: '#/definitions/ClientRequestInfo'
  required: ['client_request']

FilterAccessResponse:
  type: object
  description: result of event access filtering
  properties:
    preview_mode:
      type: boolean
      description: whether the preview mode is enabled
    view_event_permission:
      type: boolean
      description: whether the user has the ViewEvent permission on this event
    action:
      type: string
      description: action to be performed as a result of the event access filtering
      enum: ['redirect_url', 'redirect_path', 'redirect_ssl']
    action_target:
      type: string
      description: target for the action